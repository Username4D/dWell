[gd_scene load_steps=23 format=3 uid="uid://cguvbcsfr6ly0"]

[ext_resource type="PackedScene" uid="uid://bcrwvgi6u8wsi" path="res://scenes/coin.tscn" id="1_01stm"]
[ext_resource type="Script" uid="uid://baujol7o3nvr0" path="res://scripts/gameplay_scene.gd" id="1_1126i"]
[ext_resource type="Texture2D" uid="uid://baukilnn22noi" path="res://Assets/tiles.svg" id="1_b2a1o"]
[ext_resource type="Script" uid="uid://c8xd88e0gie7j" path="res://scripts/bar.gd" id="3_xpbwm"]
[ext_resource type="PackedScene" uid="uid://7mjso68mdfwf" path="res://scenes/inventory_button.tscn" id="4_mvhas"]
[ext_resource type="Texture2D" uid="uid://ddp5vh6u4ncnr" path="res://Assets/tiles_hi_res.svg" id="6_1126i"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_27dq3"]
texture = ExtResource("1_b2a1o")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, -32, 32, 32, 32, 32, -32)
2:0/0 = 0
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, 32, -32, 32)
4:0/0 = 0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, 8, -32, 32, 32, 32, 32, 8)
5:0/0 = 0
5:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, 8, -32, 32, 32, 32, 32, 8)
6:0/0 = 0
6:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, 8, -32, 32, 32, 32, 32, 8)
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
12:0/0 = 0
13:0/0 = 0
14:0/0 = 0
15:0/0 = 0
17:0/0 = 0
18:0/0 = 0
19:0/0 = 0
20:0/0 = 0
21:0/0 = 0
22:0/0 = 0
24:0/0 = 0
59:0/0 = 0
60:0/0 = 0
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, 0, -32, 32, 32, 32, 32, 0)
1:1/0 = 0
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, -32, 32, 32, 32, 32, 0)
3:1/0 = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, 0, 32, 32, 32, 32, -32, 32)
4:1/0 = 0
8:1/0 = 0
9:1/0 = 0
10:1/0 = 0
11:1/0 = 0
12:1/0 = 0
13:1/0 = 0
14:1/0 = 0
15:1/0 = 0
16:1/0 = 0
17:1/0 = 0
18:1/0 = 0
19:1/0 = 0
20:1/0 = 0
21:1/0 = 0
22:1/0 = 0
23:1/0 = 0
24:1/0 = 0
25:1/0 = 0
59:1/0 = 0
60:1/0 = 0
8:2/0 = 0
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0
12:2/0 = 0
13:2/0 = 0
14:2/0 = 0
15:2/0 = 0
16:2/0 = 0
17:2/0 = 0
18:2/0 = 0
19:2/0 = 0
20:2/0 = 0
21:2/0 = 0
22:2/0 = 0
23:2/0 = 0
24:2/0 = 0
25:2/0 = 0
26:2/0 = 0
59:2/0 = 0
60:2/0 = 0
8:3/0 = 0
9:3/0 = 0
10:3/0 = 0
11:3/0 = 0
12:3/0 = 0
13:3/0 = 0
14:3/0 = 0
15:3/0 = 0
16:3/0 = 0
17:3/0 = 0
18:3/0 = 0
19:3/0 = 0
20:3/0 = 0
21:3/0 = 0
22:3/0 = 0
23:3/0 = 0
24:3/0 = 0
25:3/0 = 0
26:3/0 = 0
27:3/0 = 0
59:3/0 = 0
60:3/0 = 0
8:4/0 = 0
9:4/0 = 0
10:4/0 = 0
11:4/0 = 0
12:4/0 = 0
13:4/0 = 0
14:4/0 = 0
15:4/0 = 0
16:4/0 = 0
17:4/0 = 0
18:4/0 = 0
19:4/0 = 0
20:4/0 = 0
21:4/0 = 0
22:4/0 = 0
23:4/0 = 0
24:4/0 = 0
25:4/0 = 0
26:4/0 = 0
27:4/0 = 0
28:4/0 = 0
59:4/0 = 0
60:4/0 = 0
8:5/0 = 0
9:5/0 = 0
10:5/0 = 0
11:5/0 = 0
12:5/0 = 0
13:5/0 = 0
14:5/0 = 0
15:5/0 = 0
16:5/0 = 0
17:5/0 = 0
18:5/0 = 0
19:5/0 = 0
20:5/0 = 0
21:5/0 = 0
22:5/0 = 0
23:5/0 = 0
24:5/0 = 0
25:5/0 = 0
26:5/0 = 0
27:5/0 = 0
28:5/0 = 0
29:5/0 = 0
32:5/0 = 0
33:5/0 = 0
34:5/0 = 0
35:5/0 = 0
36:5/0 = 0
37:5/0 = 0
38:5/0 = 0
39:5/0 = 0
40:5/0 = 0
41:5/0 = 0
42:5/0 = 0
43:5/0 = 0
44:5/0 = 0
45:5/0 = 0
46:5/0 = 0
47:5/0 = 0
48:5/0 = 0
49:5/0 = 0
50:5/0 = 0
51:5/0 = 0
52:5/0 = 0
53:5/0 = 0
54:5/0 = 0
55:5/0 = 0
59:5/0 = 0
60:5/0 = 0
8:6/0 = 0
9:6/0 = 0
10:6/0 = 0
11:6/0 = 0
12:6/0 = 0
13:6/0 = 0
14:6/0 = 0
15:6/0 = 0
16:6/0 = 0
17:6/0 = 0
18:6/0 = 0
19:6/0 = 0
20:6/0 = 0
21:6/0 = 0
22:6/0 = 0
23:6/0 = 0
24:6/0 = 0
25:6/0 = 0
26:6/0 = 0
27:6/0 = 0
28:6/0 = 0
29:6/0 = 0
30:6/0 = 0
32:6/0 = 0
33:6/0 = 0
34:6/0 = 0
35:6/0 = 0
36:6/0 = 0
37:6/0 = 0
38:6/0 = 0
39:6/0 = 0
40:6/0 = 0
41:6/0 = 0
42:6/0 = 0
43:6/0 = 0
44:6/0 = 0
45:6/0 = 0
46:6/0 = 0
47:6/0 = 0
48:6/0 = 0
49:6/0 = 0
50:6/0 = 0
51:6/0 = 0
52:6/0 = 0
53:6/0 = 0
54:6/0 = 0
55:6/0 = 0
59:6/0 = 0
60:6/0 = 0
8:7/0 = 0
9:7/0 = 0
10:7/0 = 0
11:7/0 = 0
12:7/0 = 0
13:7/0 = 0
14:7/0 = 0
15:7/0 = 0
17:7/0 = 0
18:7/0 = 0
19:7/0 = 0
20:7/0 = 0
21:7/0 = 0
22:7/0 = 0
24:7/0 = 0
25:7/0 = 0
26:7/0 = 0
27:7/0 = 0
28:7/0 = 0
29:7/0 = 0
30:7/0 = 0
31:7/0 = 0
32:7/0 = 0
33:7/0 = 0
34:7/0 = 0
35:7/0 = 0
36:7/0 = 0
37:7/0 = 0
38:7/0 = 0
39:7/0 = 0
40:7/0 = 0
41:7/0 = 0
42:7/0 = 0
43:7/0 = 0
44:7/0 = 0
45:7/0 = 0
46:7/0 = 0
47:7/0 = 0
48:7/0 = 0
49:7/0 = 0
50:7/0 = 0
51:7/0 = 0
52:7/0 = 0
53:7/0 = 0
54:7/0 = 0
55:7/0 = 0
59:7/0 = 0
60:7/0 = 0
16:8/0 = 0
17:8/0 = 0
11:9/0 = 0
12:9/0 = 0
16:9/0 = 0
17:9/0 = 0
18:9/0 = 0
19:9/0 = 0
35:9/0 = 0
36:9/0 = 0
11:10/0 = 0
12:10/0 = 0
16:10/0 = 0
17:10/0 = 0
18:10/0 = 0
19:10/0 = 0
20:10/0 = 0
21:10/0 = 0
35:10/0 = 0
36:10/0 = 0
9:11/0 = 0
10:11/0 = 0
11:11/0 = 0
12:11/0 = 0
13:11/0 = 0
14:11/0 = 0
16:11/0 = 0
17:11/0 = 0
18:11/0 = 0
19:11/0 = 0
20:11/0 = 0
21:11/0 = 0
22:11/0 = 0
23:11/0 = 0
33:11/0 = 0
34:11/0 = 0
35:11/0 = 0
36:11/0 = 0
37:11/0 = 0
38:11/0 = 0
0:12/0 = 0
1:12/0 = 0
2:12/0 = 0
3:12/0 = 0
4:12/0 = 0
5:12/0 = 0
6:12/0 = 0
7:12/0 = 0
9:12/0 = 0
10:12/0 = 0
11:12/0 = 0
12:12/0 = 0
13:12/0 = 0
14:12/0 = 0
16:12/0 = 0
17:12/0 = 0
18:12/0 = 0
19:12/0 = 0
20:12/0 = 0
21:12/0 = 0
22:12/0 = 0
23:12/0 = 0
24:12/0 = 0
25:12/0 = 0
33:12/0 = 0
34:12/0 = 0
35:12/0 = 0
36:12/0 = 0
37:12/0 = 0
38:12/0 = 0
0:13/0 = 0
1:13/0 = 0
2:13/0 = 0
3:13/0 = 0
4:13/0 = 0
5:13/0 = 0
6:13/0 = 0
7:13/0 = 0
11:13/0 = 0
12:13/0 = 0
16:13/0 = 0
17:13/0 = 0
18:13/0 = 0
19:13/0 = 0
20:13/0 = 0
21:13/0 = 0
22:13/0 = 0
23:13/0 = 0
24:13/0 = 0
25:13/0 = 0
26:13/0 = 0
27:13/0 = 0
35:13/0 = 0
36:13/0 = 0
0:14/0 = 0
1:14/0 = 0
2:14/0 = 0
3:14/0 = 0
4:14/0 = 0
5:14/0 = 0
6:14/0 = 0
7:14/0 = 0
11:14/0 = 0
12:14/0 = 0
16:14/0 = 0
17:14/0 = 0
18:14/0 = 0
19:14/0 = 0
20:14/0 = 0
21:14/0 = 0
22:14/0 = 0
23:14/0 = 0
24:14/0 = 0
25:14/0 = 0
26:14/0 = 0
27:14/0 = 0
28:14/0 = 0
29:14/0 = 0
35:14/0 = 0
36:14/0 = 0
0:15/0 = 0
1:15/0 = 0
2:15/0 = 0
3:15/0 = 0
4:15/0 = 0
5:15/0 = 0
6:15/0 = 0
7:15/0 = 0
16:15/0 = 0
17:15/0 = 0
18:15/0 = 0
19:15/0 = 0
20:15/0 = 0
21:15/0 = 0
22:15/0 = 0
23:15/0 = 0
24:15/0 = 0
25:15/0 = 0
26:15/0 = 0
27:15/0 = 0
28:15/0 = 0
29:15/0 = 0
30:15/0 = 0

[sub_resource type="TileSet" id="TileSet_mvhas"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_27dq3")

[sub_resource type="Environment" id="Environment_27dq3"]
background_mode = 3
glow_enabled = true
glow_intensity = 1.48
glow_hdr_threshold = 0.44
glow_hdr_scale = 4.0
glow_hdr_luminance_cap = 4.5

[sub_resource type="LabelSettings" id="LabelSettings_27dq3"]
font_size = 40

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_1126i"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_cd025"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_gtnmq"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_uyhvn"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_n2udg"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_hvrxh"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_b8grr"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_a6sfl"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_72mtb"]
bg_color = Color(1, 1, 1, 0.0392157)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_27dq3"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_72mtb"]

[sub_resource type="AtlasTexture" id="AtlasTexture_cd025"]
atlas = ExtResource("6_1126i")
region = Rect2(512, 128, 128, 128)

[node name="gameplay_scene" type="Node2D"]
script = ExtResource("1_1126i")

[node name="tilemap_objects" type="TileMapLayer" parent="."]
modulate = Color(1.4, 1.4, 1.4, 1)
tile_set = SubResource("TileSet_mvhas")

[node name="coin" parent="." instance=ExtResource("1_01stm")]
modulate = Color(2, 2, 2, 1)
position = Vector2(416, 32)
disable_mode = 1
freeze = true

[node name="bar" type="HBoxContainer" parent="."]
modulate = Color(3, 3, 3, 1)
z_index = 2
custom_minimum_size = Vector2(20.985, 0)
offset_top = 544.0
offset_right = 1152.0
offset_bottom = 608.0
theme_override_constants/separation = 32
alignment = 1
script = ExtResource("3_xpbwm")

[node name="blocks" parent="bar" instance=ExtResource("4_mvhas")]
layout_mode = 2

[node name="slope_big" parent="bar" instance=ExtResource("4_mvhas")]
layout_mode = 2

[node name="slope_small" parent="bar" instance=ExtResource("4_mvhas")]
layout_mode = 2

[node name="slope_mid" parent="bar" instance=ExtResource("4_mvhas")]
layout_mode = 2

[node name="objects" type="Node2D" parent="."]
modulate = Color(1.4, 1.4, 1.4, 1)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_27dq3")

[node name="finish" type="ColorRect" parent="."]
visible = false
modulate = Color(2, 2, 2, 1)
z_index = 5
offset_left = 256.0
offset_top = 128.0
offset_right = 896.0
offset_bottom = 512.0
color = Color(0, 0, 0, 0.380392)

[node name="Label" type="Label" parent="finish"]
layout_mode = 0
offset_right = 640.0
offset_bottom = 128.0
text = "Level completed:"
label_settings = SubResource("LabelSettings_27dq3")
horizontal_alignment = 1
vertical_alignment = 1

[node name="back" type="Button" parent="finish"]
layout_mode = 0
offset_top = 320.0
offset_right = 640.0
offset_bottom = 384.0
theme_override_styles/focus = SubResource("StyleBoxEmpty_1126i")
theme_override_styles/disabled_mirrored = SubResource("StyleBoxEmpty_cd025")
theme_override_styles/disabled = SubResource("StyleBoxEmpty_gtnmq")
theme_override_styles/hover_pressed_mirrored = SubResource("StyleBoxEmpty_uyhvn")
theme_override_styles/hover_pressed = SubResource("StyleBoxEmpty_n2udg")
theme_override_styles/hover_mirrored = SubResource("StyleBoxEmpty_hvrxh")
theme_override_styles/hover = SubResource("StyleBoxEmpty_b8grr")
theme_override_styles/pressed_mirrored = SubResource("StyleBoxEmpty_a6sfl")
theme_override_styles/pressed = SubResource("StyleBoxFlat_72mtb")
theme_override_styles/normal = SubResource("StyleBoxEmpty_27dq3")
text = "Back to Menu"

[node name="retry" type="Button" parent="finish"]
layout_mode = 0
offset_top = 256.0
offset_right = 640.0
offset_bottom = 320.0
theme_override_styles/focus = SubResource("StyleBoxEmpty_1126i")
theme_override_styles/disabled_mirrored = SubResource("StyleBoxEmpty_cd025")
theme_override_styles/disabled = SubResource("StyleBoxEmpty_gtnmq")
theme_override_styles/hover_pressed_mirrored = SubResource("StyleBoxEmpty_uyhvn")
theme_override_styles/hover_pressed = SubResource("StyleBoxEmpty_n2udg")
theme_override_styles/hover_mirrored = SubResource("StyleBoxEmpty_hvrxh")
theme_override_styles/hover = SubResource("StyleBoxEmpty_b8grr")
theme_override_styles/pressed_mirrored = SubResource("StyleBoxEmpty_a6sfl")
theme_override_styles/pressed = SubResource("StyleBoxFlat_72mtb")
theme_override_styles/normal = SubResource("StyleBoxEmpty_72mtb")
text = "Retry"

[node name="star" type="Sprite2D" parent="finish"]
z_index = -1
position = Vector2(320, 176)
scale = Vector2(1.25, 1.25)
texture = SubResource("AtlasTexture_cd025")

[connection signal="pressed" from="finish/back" to="." method="_on_back_pressed"]
[connection signal="pressed" from="finish/retry" to="." method="_on_retry_pressed"]
